<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
    /* Асинхронные запросы */
/* Существуют разные версии протоколов HTTP(S) 1, 1.1, 2
* в 1, 1.1 данные передаются в виде текста, в 2 в бинарном виде (взлом сложнее)
* Минусы всех протоколов в том что они не могут работать онлайн т.к. работает по
* принципу запрос-ответ. Вместо HTTP как альтернатива существует протокол
* веб сокетов W3C. По HTTP актуальные данные можно получать только искуственно отправляя частые
* запросы на сервер функцией setInterval (регулярный вызов функции) что в корне неверно т.к. если
* пользователей будет много то сервер не выдержит количества запросов. При использовании веб сокетов
* (объект WebSocket) используется принцип long connect. Т.е. сервер сам является инициатором
* отправки новых данных клиенту. На данном курсе веб сокеты не изучаются. */

/* Асинхронность на практике */
    // const async = a => {
    //     setTimeout(()=>{
    //         const b = a + 1;
    //         return b;
    //     }, 4000);
    //     return 5000;
    // }
    // console.log(async(5));

    // /* Callback функция - это функция, которую в определенный момент запускает другая функция
    // * В данном примере вторым параметром передана функция, после выполнения первой функции
    // * JS вернется к выполнения cb т.к. это внешняя функция которая должна исполнится после
    // * первой внутри нее */
    // const async = (a, cb) => {
    //     setTimeout(()=>{
    //         const b = a + 1;
    //         cb(b);
    //     }, 4000);
    //     return 5000;
    // }
    // console.log(async(5, x=>{
    //     console.log(x);
    // }));

    // /* Promise - это объект со свойствами resolve и reject
    // * эти свойства назначаются в зависимости от асинхронности */
    // // абстрактный пример
    // let num = a => {
    //     return new Promise((resolve,reject)=>{
    //         setTimeout(()=>{
    //             if(a){
    //                 resolve(a+10); //после resolve всегда вызывается обработчик then
    //             } else {
    //                 reject('error'); //после reject вызывается обработчик catch
    //             }
    //         },3000);
    //         return 5000;
    //     })
    // }
    // num(5)
    //     .then(data => {
    //         console.log(data);
    //     })
    //     .catch(error => {
    //         console.log(error);
    //     })

    /* Реальное применение Promise */


</script>
</body>
</html>